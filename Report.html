<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        CIA Lab 3 - Domain Name System (DNS) - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important;position:relative}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.figma{display:table;position:relative;width:100%;padding-bottom:56.25%}.figma iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;border:1px solid #eee}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{height:40px;padding:10px 4px;border-top-left-radius:0;border-bottom-left-radius:0}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:20px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:50%;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;text-decoration:none;padding-left:22px}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em;font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h1 id="CIA-Lab-3---Domain-Name-System-DNS" data-id="CIA-Lab-3---Domain-Name-System-DNS"><a class="anchor hidden-xs" href="#CIA-Lab-3---Domain-Name-System-DNS" title="CIA-Lab-3---Domain-Name-System-DNS"><span class="octicon octicon-link"></span></a><span>CIA Lab 3 - Domain Name System (DNS)</span></h1><p><strong><span>Name: Vladimir Shelkovnikov</span></strong></p><hr><h2 id="Task-1---Downloading-and-Installing-a-Caching-Name-Server" data-id="Task-1---Downloading-and-Installing-a-Caching-Name-Server"><a class="anchor hidden-xs" href="#Task-1---Downloading-and-Installing-a-Caching-Name-Server" title="Task-1---Downloading-and-Installing-a-Caching-Name-Server"><span class="octicon octicon-link"></span></a><span>Task 1 - Downloading and Installing a Caching Name Server</span></h2><div class="alert alert-info">
<h4 id="Validating-the-Download" data-id="Validating-the-Download"><a class="anchor hidden-xs" href="#Validating-the-Download" title="Validating-the-Download"><span class="octicon octicon-link"></span></a><span>Validating the Download</span></h4>
<p><span>Why is it wise to verify your download?</span><br>
<span>Download the BIND tarball and check its validity using one of the signatures.</span><br>
<span>Which mechanism is the best one to use (signatures or hashes)? Why?</span></p>
<h4 id="Documentation-amp-Compiling" data-id="Documentation-amp-Compiling"><a class="anchor hidden-xs" href="#Documentation-amp-Compiling" title="Documentation-amp-Compiling"><span class="octicon octicon-link"></span></a><span>Documentation &amp; Compiling</span></h4>
<p><span>Compiling and installing BIND, Unbound and NSD servers is simple and consists of the usual sequence of commands on most systems: </span><code>./configure; make and make install</code><span>.</span><br>
<span>First, make sure your installation does not contain a previous version of the servers, as that can really mess things up ( show how to check ).</span><br>
<span>Next, configure, compile and then install the servers in the directory </span><code>/usr/local/</code><span>.</span><br>
<span>Make sure each server will look for its configuration files in</span></p>
<ul>
<li><span>BIND - </span><code>/usr/local/etc/bind</code></li>
<li><span>Unbound - </span><code>/usr/local/etc/unbound</code></li>
</ul>
<p><span>Let the server write its state information, such as the </span><code>named.pid</code><span> or </span><code>unbound.pid</code><span> file, in </span><code>/var/run</code><span> .</span><br>
<span>Information about which configuration options to use to achieve the result you can find in the README files.</span></p>
<p><span>What is the difference between </span><code>/etc</code><span> , </span><code>/usr/etc</code><span> , </span><code>/usr/local/etc</code><span>?</span></p>
</div><h2 id="Implementation" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation" title="Implementation"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><p data-original-title="" title=""><span>I downloaded the BIND 9.16.20 and its signature (sha256). I check the downloaded file using the command </span><code>gpg --verify bind-9.16.20.tar.xz.sha256.asc bind-9.16.20.tar.xz</code><span>. Figure 1 shows the result.</span></p><center>
<p><img src="https://i.imgur.com/NK369C2.png" alt="" loading="lazy"><br>
<span>Figure 1 - Verification of the downloaded file</span></p>
</center><p><span>So, we checked that the file was not changed.</span></p><hr><blockquote>
<p><span>Why is it wise to verify your download?</span></p>
<blockquote>
<p><span>Using a verification may indicate that the file may have been modified. This may be the result of errors or malicious actions.</span></p>
</blockquote>
</blockquote><hr><blockquote>
<p><span>Which mechanism is the best one to use (signatures or hashes)? Why?</span></p>
<blockquote>
<p><span>It is best to use a signature.</span><br>
<span>Hashes are used to verify the message integrity only - if a message changes, the hash will change too.</span><br>
<span>Digital signatures are used to verify message authenticity and message integrity.</span></p>
</blockquote>
</blockquote><hr><p><span>The </span><code>named -v</code><span> command is used to check the version of the BIND.  Figure 2 shows that BIND is not installed (even with my mistake in the flag).</span></p><center>
<p><img src="https://i.imgur.com/yUVNTaa.png" alt="" loading="lazy"><br>
<span>Figure 2 - There is no BIND installed</span></p>
</center><p><span>After that, I compiled and installed BIND.</span></p><pre><code>tar -xvf bind-9.16.20.tar.xz
cd bind-9.16.20/
./autogen.sh
./configure --prefix=/usr/local/ --sysconfdir=/usr/local/etc/bind --localstatedir=/var
sudo make
sudo checkinstall
sudo dpkg -i bind_9.16.20-1_amd64.deb
</code></pre><p><span>Figure 3 shown the current version of the BIND.</span></p><center>
<p><img src="https://i.imgur.com/aieYIeA.png" alt="" loading="lazy"><br>
<span>Figure 3 - Check the BIND version</span></p>
</center><p><span>Figure 4 shows the version number and build options.</span></p><center>
<p><img src="https://i.imgur.com/frO3xGX.png" alt="" loading="lazy"><br>
<span>Figure 4 - Result of installation</span></p>
</center><p><span>Then I changed the permissions for the server, including AppArmor (Figure 5).</span></p><center>
<p><img src="https://i.imgur.com/ZpJtZbI.png" alt="" loading="lazy"><br>
<span>Figure 5 - Сhanged permissions for the server</span></p>
</center><p><span>Then I restarted the apparmor.service and checked the named status (Figure 6)</span></p><center>
<p><img src="https://i.imgur.com/FPNP7k1.png" alt="" loading="lazy"><br>
<span>Figure 6 - Status of named</span></p>
</center><p><span>There is an error with the </span><code>named</code><span> binary. I checked it and found that it is looking for a binary file in </span><code>usr/sbin</code><span>, but it is located in </span><code>usr/local/sbin/</code><span>. I fixed it and checked the status again (Figure 7).</span></p><center>
<p><img src="https://i.imgur.com/6OsvTaW.png" alt="" loading="lazy"><br>
<span>Figure 7 - Success</span></p>
</center><hr><blockquote>
<p><span>What is the difference between /etc , /usr/etc , /usr/local/etc?</span></p>
</blockquote><blockquote>
<blockquote>
<p><span>/etc - is used by your OS for its configuration files.</span></p>
</blockquote>
</blockquote><blockquote>
<blockquote>
<p><span>/usr/etc is also used by OS, but it does not contain important configuration files (for OS).</span></p>
</blockquote>
</blockquote><blockquote>
<blockquote>
<p><span>/usr/local/etc can be used for my config files.</span></p>
</blockquote>
</blockquote><hr><h2 id="Task-2---Configuring-Caching-Name-Server" data-id="Task-2---Configuring-Caching-Name-Server"><a class="anchor hidden-xs" href="#Task-2---Configuring-Caching-Name-Server" title="Task-2---Configuring-Caching-Name-Server"><span class="octicon octicon-link"></span></a><span>Task 2 - Configuring Caching Name Server</span></h2><div class="alert alert-info">
<p><span>Compiling and installing a server is relatively simple, but configuring a DNS server is not trivial. To keep things simple, we will start with BIND and Unbound running as a caching-only name server. This type of name server does not control any zone data.</span></p>
<p><span>Why are caching-only name servers still useful?</span></p>
<p><span>The main configuration file you will have to create:</span></p>
<ul>
<li><span>BIND - named.conf and should be stored in /usr/local/etc/bind</span></li>
<li><span>Unbound - /usr/local/etc/unbound/unbound.conf</span></li>
</ul>
<p><span>It contains general options for the name server as well as references to other configuration files. Both BIND and Unbound provide sample files.</span></p>
<h4 id="Root-Servers" data-id="Root-Servers"><a class="anchor hidden-xs" href="#Root-Servers" title="Root-Servers"><span class="octicon octicon-link"></span></a><span>Root Servers</span></h4>
<p><span>Our server needs a file containing references to the DNS root servers, the root hint file. The root hint file contains a list of root servers that our server uses to retrieve a more recent list of root servers. This file can be downloaded from </span><a href="ftp://ftp.rs.internic.net/domain" target="_blank" rel="noopener"><span>ftp://ftp.rs.internic.net/domain</span></a><span> .</span></p>
<h4 id="Resolving-localhost" data-id="Resolving-localhost"><a class="anchor hidden-xs" href="#Resolving-localhost" title="Resolving-localhost"><span class="octicon octicon-link"></span></a><span>Resolving localhost</span></h4>
<p><span>The BIND server also needs a file in the working directory called named.local to resolve the loopback address 127.0.0.1 to the name localhost.</span><br>
<span>For Unbound, this is done automatically (see the local-zone feature).</span><br>
<span>This named.local file is in the standardized zone file format that you will need further on in the assignment for both scenarios. So take some time to study the example sample. The zone file format is defined in RFC 1033 which explains the </span>&lt;origin&gt;<span> , </span>&lt;person&gt;<span> and </span>&lt;server&gt;<span> fields.</span></p>
<h4 id="Access-control" data-id="Access-control"><a class="anchor hidden-xs" href="#Access-control" title="Access-control"><span class="octicon octicon-link"></span></a><span>Access control</span></h4>
<p><span>During the configuration, think of scenarios when a caching nameserver should be used, and who can query your server.</span></p>
<p><span>Why access control is important for recursive server?</span></p>
<p><span>Now that you know all the elements of the main configuration, create a simple </span><code>named.conf</code><span> or </span><code>unbound.conf</code><span class="ui-comment-inline-span"> for a</span><span> caching-only name server. Show the configuration file in your report.</span></p>
<h4 id="Testing" data-id="Testing"><a class="anchor hidden-xs" href="#Testing" title="Testing"><span class="octicon octicon-link"></span></a><span>Testing</span></h4>
<p><span>You can check the syntax of your configuration file by using the </span><code>named-checkconf</code><span> and </span><code>unbound-checkconf</code><span> programs, respectively.</span><br>
<span>The </span><code>named-checkconf</code><span> program returns only a result value on success, </span><code>unbound-checkconf</code><span> prints a line and returns a result value.</span></p>
<p><span>Why do the programs return a result value?</span></p>
<p><span>One way to see the result value is as follows:</span><br>
<span>if named-checkconf; then echo t; else echo f; fi</span></p>
</div><hr><h2 id="Implementation1" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation1" title="Implementation1"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><hr><blockquote>
<p><span>Why are caching-only name servers still useful?</span></p>
<blockquote>
<p><span>There are a few reasons for using caching-only DNS servers:</span></p>
<ol>
<li><span>We can protect internal servers by closing the DNS port from the network to the public. The servers will perform a DNS lookup on the internal network.</span></li>
<li><span>Higher performance – we can speed up the response time if the DNS lookup that the server needs is already cached</span></li>
</ol>
</blockquote>
</blockquote><hr><p><span>I downloaded named.root with command </span><code>wget ftp://ftp.rs.internic.net/domain/named.root</code><span>. Then I added it to </span><code>/usr/local/etc/bind</code><span> as root.hint.</span></p><p><span>Then I created and configured a file named.local (Figure 8).</span></p><center>
<p><img src="https://i.imgur.com/UevCTHH.png" alt="" loading="lazy"><br>
<span>Figure 8 - named.local</span></p>
</center><hr><blockquote>
<p><span>Why access control is important for a recursive server?</span></p>
<blockquote>
<p><span>Access control is important for a recursive server because DNS requests are UDP, so they are easy to spoof.</span><br>
<span>We can restrict access to the server using Access Control Lists (ACLs).</span></p>
</blockquote>
</blockquote><hr><p><span>I created a simple named.conf (named.conf.option (Figure 10) and named.conf.default-zones(Figure 9)) for a caching-only name server.</span></p><center>
<p><img src="https://i.imgur.com/i19FtZE.png" alt="" loading="lazy"><br>
<span>Figure 9 - Zones</span></p>
<p><img src="https://i.imgur.com/sGylQSW.png" alt="" loading="lazy"><br>
<span>Figure 10 - Options</span></p>
</center><p><span>ACL and allow-query - who can send requests to the server.</span><br>
<span>forwarders contain the IP addresses of the recursive name servers that we want to forward requests to.</span><br>
<span>forward only - the server will forward all requests and should not attempt to resolve requests on its own.</span></p><hr><p><span>Now if I dig the root server it should return 13 IP addresses of the root servers. Figure 11 shows 13 root servers (NS) with their IPv4 and IPv6 (A) addresses.</span></p><center>
<p><img src="https://i.imgur.com/aLYGAov.png" alt="" loading="lazy"><br>
<span>Figure 11 - dig the root servers</span></p>
</center><p><span>Let’s check the work of the caching-only server by making the first dig (Figure 12).</span></p><center>
<p><img src="https://i.imgur.com/SXre57R.png" alt="" loading="lazy"><br>
<span>Figure 12 - First dig</span></p>
</center><p><span>It took 51 msec. The second one should be much faster. Let’s make the seconf one (Figure 13).</span></p><center>
<p><img src="https://i.imgur.com/fvMJG9G.png" alt="" loading="lazy"><br>
<span>Figure 13 - Second dig</span></p>
</center><p><span>This time it took 0 msec. Thus, the cathing-only name server is working.</span></p><hr><p><span>I run the command named-checkconf, but it does not return anything. It return 0 or 1, because it is used by another program.</span></p><h2 id="Task-3---Running-Caching-Name-Server" data-id="Task-3---Running-Caching-Name-Server"><a class="anchor hidden-xs" href="#Task-3---Running-Caching-Name-Server" title="Task-3---Running-Caching-Name-Server"><span class="octicon octicon-link"></span></a><span>Task 3 - Running Caching Name Server</span></h2><div class="alert alert-info">
<p><span>You‌ ‌can‌ ‌now‌ ‌start‌ ‌the‌ ‌DNS‌ ‌server‌ ‌by‌ ‌hand‌ ‌using‌ named‌ ‌-g‌ ‌-d2‌ ,‌ ‌or‌ unbound‌ ‌-d‌ ‌-vv‌ ,‌ ‌respectively‌‌ (it‌ ‌will‌ ‌start‌ ‌the‌ ‌daemon‌ ‌with‌ ‌debug‌ ‌level‌ ‌2‌ ‌-‌ ‌read‌ ‌the‌ ‌manual‌ ‌page‌ ‌for‌ ‌more‌ ‌information).‌‌ ‌</span><br>
<span>But‌ ‌it‌ ‌is‌ ‌better‌ ‌to‌ ‌use‌ ‌a‌ ‌“name‌ ‌server‌ ‌control”‌ ‌tool‌ ‌to‌ ‌start‌ ‌and‌ ‌stop‌ ‌the‌ ‌server.‌ ‌For‌ ‌BIND‌ ‌this‌‌ tool‌ ‌is‌ ‌called‌ rndc‌ ,‌ ‌and‌ ‌for‌ ‌Unbound,‌ ‌it‌ ‌is‌ ‌called‌ unbound-control‌ .‌ ‌You’ll‌ ‌have‌ ‌to‌ ‌adapt‌ ‌the‌‌ configuration‌ ‌to‌ ‌enable‌ ‌it.‌ ‌Also,‌ ‌it‌ ‌would‌ ‌be‌ ‌better‌ ‌to‌ ‌configure‌ ‌the‌ ‌name‌ ‌server‌ ‌to‌ write‌‌ debug‌ ‌information‌ ‌to‌ ‌a‌ ‌log‌ ‌file.‌</span></p>
<ol>
<li><span>Show‌ ‌the‌ ‌changes‌ ‌you‌ ‌made‌ ‌to‌ ‌your‌ ‌configuration‌ ‌to‌ ‌allow‌ ‌remote‌ ‌control‌ ‌</span></li>
<li><span>What‌ ‌other‌ ‌commands/functions‌ ‌does‌ rndc/unbound-control‌ ‌provide?‌ ‌What‌‌ ‌</span></li>
<li><span>What‌ ‌is‌ ‌the‌ ‌difference‌ ‌between‌ ‌stop‌ ‌-&gt;‌ ‌start‌ ‌and‌ ‌reload?‌ ‌</span></li>
</ol>
<p><span>To‌ ‌use‌ ‌your‌ ‌own‌ ‌server‌ ‌name‌ ‌you‌ ‌will‌ ‌need‌ ‌to‌ ‌adapt‌ resolv.conf‌.‌ ‌Take‌ ‌into‌ ‌account‌ ‌that‌ ‌on‌‌ recent‌ ‌distributions‌ ‌this‌ ‌file‌ ‌is‌ automatically‌ ‌generated.‌ ‌</span></p>
<p><span>What‌ ‌do‌ ‌you‌ ‌need‌ ‌to‌ ‌put‌ ‌in‌ resolv.conf‌‌ ‌(and/or‌ ‌other‌ ‌files)‌ ‌to‌ ‌use‌ ‌your‌ ‌own‌ ‌name‌‌ server?‌ ‌</span></p>
<p><span>Now‌ ‌use‌ ‌the‌ ‌tools‌ ‌and‌ ‌scripts‌ ‌provided‌ ‌with‌ ‌your‌ ‌distribution‌ ‌to‌ ‌test‌ ‌your‌ ‌name‌ ‌server‌‌. ‌</span><br>
<span>‌</span><br>
<span>Show‌ ‌that‌ ‌your‌ ‌queries‌ ‌are‌ ‌successfully‌ ‌resolved‌ ‌and‌ ‌cached‌ ‌by‌ ‌also‌ ‌inspecting‌ ‌the‌ ‌server’s‌‌ log‌ ‌file‌. ‌</span></p>
</div><hr><h2 id="Implementation2" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation2" title="Implementation2"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><p><span>The next step is rndc configuration and logging.</span></p><p><span>First I ran </span><code>rndc-confgen</code><span> to create configuration files - rndc.key and rndc.conf. I also wrote the rndc key in the named.conf option (Figure 14). Then I configured it to use rndc key (controls). Then I added logging. Figure 14 shows named.conf.option at this stage.</span></p><center>
<p><img src="https://i.imgur.com/UoSI0Rz.png" alt="" loading="lazy"></p>
<p><span>Figure 14 - named.conf.option</span></p>
</center><p><span>The log is located in the bind.log file. It contains debug information (time, severity and category).</span></p><p><span>After rebooting the BIND, I checked the rndc status (Figure 15)</span></p><center>
<p><img src="https://i.imgur.com/nbF0Dn8.png" alt="" loading="lazy"><br>
<span>Figure 15 - Status of rndc</span></p>
</center><hr><blockquote>
<p><span>What‌ ‌other‌ ‌commands/functions‌ ‌does‌ rndc/unbound-control‌ ‌provide?‌ ‌</span></p>
<blockquote>
<p><span>It can works with zones, cache, keys and DNSSEC signing. It can also display information about the DNS server.</span></p>
</blockquote>
</blockquote><hr><blockquote>
<p><span>What‌ ‌is‌ ‌the‌ ‌difference‌ ‌between‌ ‌stop‌ ‌-&gt;‌ ‌start‌ ‌and‌ ‌reload?‌ ‌</span></p>
<blockquote>
<p><span>There is no start in rndc.</span><br>
<span>stop --&gt; start -  updates will be saved to master files and the server will stop. We can’t use rndc until </span><code>systemctl start named</code><span>.</span><br>
<span>reload just reloads configuration files and zone. There is no server shutdown.</span></p>
</blockquote>
</blockquote><hr><p><span>I put nameserver and domain to resolve.conf. Figure 16 shows the result of testing my name server.</span></p><center>
<p><img src="https://i.imgur.com/LsQZS1B.png" alt="" loading="lazy"><br>
<span>Figure 16 - Dig on my workstation</span></p>
</center><p><span>Now there is my nameserver (SERVER: 10.1.1.212 (My IP))</span></p><p><span>Figure 17 shows dig request. Figure 18 shows queries in log file.</span></p><center>
<p><img src="https://i.imgur.com/TjFYiDT.png" alt="" loading="lazy"><br>
<span>Figure 17 - Dig request</span></p>
<p><img src="https://i.imgur.com/KjzMJPI.png" alt="" loading="lazy"><br>
<span>Figure 18 - Queries in log file</span></p>
</center><p><span>395 - launching a DNS query (UDP);</span><br>
<span>396,397 - security information;</span><br>
<span>398 - query information;</span><br>
<span>399 - the request is cached;</span><br>
<span>400 - the request is resolved.</span></p><hr><h2 id="Task-4---Authoritative-Name-Server" data-id="Task-4---Authoritative-Name-Server"><a class="anchor hidden-xs" href="#Task-4---Authoritative-Name-Server" title="Task-4---Authoritative-Name-Server"><span class="octicon octicon-link"></span></a><span>Task 4 - Authoritative Name Server</span></h2><div class="alert alert-info">
<p><span>Now‌ ‌that‌ ‌you‌ ‌have‌ ‌checked‌ ‌that‌ ‌your‌ ‌configuration‌ ‌works‌ ‌correctly,‌ ‌you‌ ‌can‌ ‌set‌ ‌it‌ ‌up‌ ‌to‌‌ serve‌ ‌your‌ ‌own‌ ‌subdomain‌ ‌-‌ stX.sne21.ru‌ ‌</span><br>
<span>But‌ ‌before,‌ ‌please‌ ‌answer:‌ ‌</span><br>
<span>➢ ‌ ‌What‌ ‌is‌ ‌a‌ ‌private‌ ‌DNS‌ ‌zone?‌ ‌Is‌ stX.sne21.ru‌‌ ‌private?‌ ‌</span><br>
<span>➢ ‌ ‌What‌ ‌information‌ ‌was‌ ‌needed‌ ‌by‌ ‌TAs‌ ‌so‌ ‌they‌ ‌can‌ ‌implement‌ ‌the‌ ‌delegation?‌ ‌</span><br>
<span>The‌ ‌zone‌ ‌file‌ ‌format‌ ‌is‌ ‌standardized,‌ ‌so‌ ‌it‌ ‌is‌ ‌the‌ ‌same‌ ‌for‌ ‌both‌ ‌BIND‌ ‌and‌ ‌NSD.‌ ‌</span><br>
<span>The‌ ‌subdomain‌ stX.sne21.ru‌‌ ‌is‌ ‌delegated‌ ‌to‌ ‌your‌ ‌experimentation‌ ‌server‌ ‌-‌ ns.stX.sne21.ru‌ .‌‌ ‌</span><br>
<span>Create‌ ‌a‌ ‌forward‌ ‌mapping‌ ‌zone‌ ‌file‌ ‌for‌ ‌your‌ ‌domain.‌ ‌It‌ ‌must‌ ‌contain‌ ‌the‌ ‌following‌ ‌resource‌‌ records:‌ ‌</span><br>
<span>➢ ‌ ‌2‌ ‌MX‌ ‌records.‌ ‌Make‌ ‌sure‌ ‌that‌ ‌mail‌ ‌for‌ ‌your‌ ‌domain‌ ‌is‌ ‌delivered‌ ‌to‌ ‌your‌ ‌own‌‌</span><br>
<span>public‌ ‌IP.‌ ‌We‌ ‌will‌ ‌use‌ ‌the‌ ‌MX‌ ‌records‌ ‌later‌ ‌on.‌ ‌</span><br>
<span>➢ ‌ ‌4‌ ‌A‌ ‌or‌ ‌AAAA‌ ‌records.‌ ‌Use‌ ‌your‌ ‌imagination.‌ ‌</span><br>
<span>➢ ‌ ‌2‌ ‌CNAME‌ ‌records.‌‌ ‌</span><br>
<span>Then:‌ ‌</span><br>
<span>➢ ‌ ‌Show‌ ‌the‌ ‌resulting‌ ‌zone‌ ‌file.‌ ‌</span><br>
<span>➢ ‌ ‌Add‌ ‌a‌ ‌reference‌ ‌to‌ ‌your‌ ‌zone‌ ‌file‌ ‌to‌ ‌named.conf‌ ‌or‌ ‌nsd.conf,‌ ‌respectively.‌‌ ‌</span><br>
<span>➢ ‌ ‌Restart‌ ‌or‌ ‌reload‌ ‌the‌ ‌name‌ ‌server‌ ‌and‌ ‌test‌ ‌your‌ ‌configuration‌ ‌using‌ ‌the‌ ‌provided‌‌ tools‌.‌ ‌</span></p>
</div><hr><h2 id="Implementation3" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation3" title="Implementation3"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><hr><blockquote>
<p><span>What‌ ‌is‌ ‌a‌ ‌private‌ ‌DNS‌ ‌zone?‌ ‌Is‌ stX.sne21.ru‌‌ ‌private?‌ ‌</span></p>
<blockquote>
<p><span>Private DNS are nameservers that do not reflect hosting provider, but rather my own domain name. </span><a href="http://stx.sne21.ru" target="_blank" rel="noopener"><span>stx.sne21.ru</span></a><span> is private.</span></p>
</blockquote>
</blockquote><hr><blockquote>
<p><span>What‌ ‌information‌ ‌was‌ ‌needed‌ ‌by‌ ‌TAs‌ ‌so‌ ‌they‌ ‌can‌ ‌implement‌ ‌the‌ ‌delegation?‌</span></p>
<blockquote>
<p><span>IP‌ of DNS server (NS and A(AAAA) records at zone file)</span></p>
</blockquote>
</blockquote><hr><p><span>I added new zone </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a><span> (Figures 18, 19).</span></p><center>
<p><img src="https://i.imgur.com/krY2pFt.png" alt="" loading="lazy"><br>
<span>Figure 18 - named.conf.default-zones</span></p>
<p><img src="https://i.imgur.com/8VQjdXV.png" alt="" loading="lazy"><br>
<span>Figure 19 - </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a></p>
</center><p><span>It contains 2 MX records, 5 A records and 2 CNAME.</span><br>
<span>The MX record points to the server that accepts mail for domain.</span><br>
<span>An A record maps a domain name to the IP address (AAAA for IPv6).</span><br>
<span>CNAME record maps one domain name to another.</span></p><hr><p><span>Let’s check them.</span></p><center>
<p><img src="https://i.imgur.com/kmoB3Zm.png" alt="" loading="lazy"><br>
<span>Figure 20 - dig </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a><span> mx</span></p>
<p><img src="https://i.imgur.com/rjBdVv7.png" alt="" loading="lazy"><br>
<span>Figure 21 - dig </span><a href="http://s.st12.sne21.ru" target="_blank" rel="noopener"><span>s.st12.sne21.ru</span></a><span> mx</span></p>
<p><img src="https://i.imgur.com/2ncyJ1A.png" alt="" loading="lazy"><br>
<span>Figure 22 - dig </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a><span> ns</span></p>
<p><img src="https://i.imgur.com/ZINJDUl.png" alt="" loading="lazy"><br>
<span>Figure 23 - dig </span><a href="http://www.st12.sne21.ru" target="_blank" rel="noopener"><span>www.st12.sne21.ru</span></a></p>
<p><img src="https://i.imgur.com/wMP6zEz.png" alt="" loading="lazy"><br>
<span>Figure 24 - dig </span><a href="http://host1.st12.sne21.ru" target="_blank" rel="noopener"><span>host1.st12.sne21.ru</span></a></p>
</center><hr><h2 id="Task-5---Delegating-Your-Own-Zone" data-id="Task-5---Delegating-Your-Own-Zone"><a class="anchor hidden-xs" href="#Task-5---Delegating-Your-Own-Zone" title="Task-5---Delegating-Your-Own-Zone"><span class="octicon octicon-link"></span></a><span>Task 5 - Delegating Your Own Zone</span></h2><div class="alert alert-info">
<p><span>Work‌ ‌together‌ ‌with‌ ‌one‌ ‌of‌ ‌your‌ ‌fellow‌ ‌students.‌ ‌Each‌ ‌of‌ ‌you‌ ‌will‌ ‌create‌ ‌a‌ ‌subdomain‌ ‌of‌‌ your‌ ‌own‌ ‌domain‌ ‌and‌ ‌delegate‌ ‌the‌ ‌authority‌ ‌for‌ ‌that‌ ‌subdomain‌ ‌to‌ ‌your‌ ‌partner.‌ ‌So‌ ‌in‌ ‌the‌‌</span><br>
<span>end‌ ‌there‌ ‌should‌ ‌be‌ ‌two‌ ‌additional‌ ‌zones:‌ ‌</span><br>
<span>-‌ st</span>&lt;X&gt;<span>.st</span>&lt;Y&gt;<span>.sne21.ru‌</span><br>
<span>‌ ‌and‌ ‌</span><br>
<span>-‌ st</span>&lt;Y&gt;<span>.st</span>&lt;X&gt;<span>.sne21.ru‌ ‌ ‌</span><br>
<span>where‌ X -‌ ‌the‌ ‌number‌ ‌of‌ ‌your‌ ‌machine,‌ Y -‌ ‌the‌ ‌number‌ ‌of‌ ‌your‌ ‌partner’s‌ ‌machine.‌ ‌</span><br>
<span>How‌ ‌did‌ ‌you‌ ‌set‌ ‌up‌ ‌the‌ ‌subdomains‌ ‌and‌ ‌their‌ ‌delegation:‌ ‌</span><br>
<span>➢ ‌ ‌How‌ ‌did‌ ‌you‌ ‌update‌ st</span>&lt;X&gt;<span>.sne21.ru‌ z ‌ one‌ ‌file‌ ‌to‌ ‌delegate‌ ‌subdomain‌ ‌to‌‌</span><br>
<span>your‌ ‌partner?‌</span><br>
<span>➢ ‌ ‌Show‌ ‌content‌ ‌of‌ st</span>&lt;X&gt;<span>.st</span>&lt;Y&gt;<span>.sne21.ru‌ z ‌ one‌ ‌file‌ ‌that‌ ‌you‌ ‌have‌‌ delegation‌ ‌for.‌ ‌</span><br>
<span>➢ ‌ ‌What‌ ‌named.conf/nsd.conf‌ ‌options‌ ‌did‌ ‌you‌ ‌add‌ ‌or‌ ‌change?‌ ‌</span><br>
<span>➢ ‌ ‌Show‌ ‌the‌ ‌results‌ ‌of‌ ‌the‌ ‌tests‌ ‌that‌ ‌you‌ ‌performed.‌</span></p>
</div><hr><h2 id="Implementation4" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation4" title="Implementation4"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><p><span>I modified my </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a><span> and named.conf.default-zones as shown in Figures 25, 26.</span></p><center>
<p><img src="https://i.imgur.com/VSKXJ2J.png" alt="" loading="lazy"><br>
<span>Figure 25 - Modification of named.conf.default-zones</span></p>
<p><img src="https://i.imgur.com/wCCVqpg.png" alt="" loading="lazy"><br>
<span>Figure 26 - Modification of </span><a href="http://st12.sne21.ru" target="_blank" rel="noopener"><span>st12.sne21.ru</span></a><span> zone</span></p>
</center><p><code>allow-transfer</code><span> - IP address that are allowed to copy the zone information from the server.</span><br>
<code>notify yes</code><span> - When a zone is loaded/changed notify messages are sent to the name servers (NS record).</span><br>
<code>allow-update none</code><span> - no one allowed to submit dynamic updates for master zones.</span></p><hr><p><span>Also I added new zone to st10 (Figures 27, 28).</span></p><center>
<p><img src="https://i.imgur.com/PphkYWg.png" alt="" loading="lazy"><br>
<span>Figure 27 - named.conf of st10</span></p>
<p><img src="https://i.imgur.com/wdrdMCL.png" alt="" loading="lazy"><br>
<span>Figure 28 - </span><a href="http://st10.st12.sne21.ru" target="_blank" rel="noopener"><span>st10.st12.sne21.ru</span></a><span> zone</span></p>
</center><hr><p><span>Figure 29 shows result of command </span><code>dig ns.st10.st12.sne21.ru</code><span> from st12.</span></p><center>
<p><img src="https://i.imgur.com/Edrd9X2.png" alt="" loading="lazy"><br>
<span>Figure 29 - dig </span><a href="http://ns.st10.st12.sne21.ru" target="_blank" rel="noopener"><span>ns.st10.st12.sne21.ru</span></a></p>
</center><h2 id="Task-6---Zone-Transfers" data-id="Task-6---Zone-Transfers"><a class="anchor hidden-xs" href="#Task-6---Zone-Transfers" title="Task-6---Zone-Transfers"><span class="octicon octicon-link"></span></a><span>Task 6 - Zone Transfers</span></h2><div class="alert alert-info" data-original-title="" title="">
<p><span>Now‌ ‌that‌ ‌you‌ ‌have‌ ‌delegated‌ ‌a‌ ‌subdomain‌ ‌to‌ ‌your‌ ‌partner,‌ ‌you‌ ‌will‌ ‌set‌ ‌up‌ ‌your‌ ‌own‌ ‌server‌‌ as‌ ‌a‌ ‌secondary‌ ‌for‌ ‌that‌ ‌domain.‌ ‌The‌ ‌primary‌ ‌and‌ ‌secondary‌ ‌servers‌ ‌must‌ ‌always‌ ‌contain‌ ‌the‌‌ exact‌ ‌same‌ ‌zone‌ ‌data.‌‌ ‌</span><br>
<span>➢ ‌ ‌How‌ ‌did‌ ‌you‌ ‌set‌ ‌up‌ ‌the‌ ‌secondary‌ ‌nameserver?‌ ‌Show‌ ‌the‌ ‌changes‌ ‌to‌ ‌the‌‌</span><br>
<span>configuration‌ ‌files‌ ‌that‌ ‌you‌ ‌made.‌‌ ‌</span><br>
<span>➢ ‌ ‌What‌ ‌happens‌ ‌if‌ ‌the‌ ‌primary‌ ‌name‌ ‌server‌ ‌for‌ ‌the‌ ‌subdomain‌ ‌fails?‌ ‌</span><br>
<span>The‌ ‌primary‌ ‌and‌ ‌secondary‌ ‌servers‌ ‌must‌ ‌always‌ ‌contain‌ ‌the‌ ‌exact‌ ‌same‌ ‌zone‌ ‌data.‌ ‌If‌ ‌the‌‌ data‌ ‌on‌ ‌your‌ ‌primary‌ ‌server‌ ‌is‌ ‌updated,‌ ‌the‌ ‌secondary‌ ‌must‌ ‌also‌ ‌be‌ ‌updated.‌ ‌This‌ ‌is‌ ‌done‌ ‌via‌‌ zone‌ ‌transfers.‌ ‌Set‌ ‌up‌ ‌the‌ ‌primary‌ ‌server‌ ‌for‌ ‌the‌ ‌domain‌ ‌that‌ ‌was‌ ‌delegated‌ ‌to‌ ‌you‌ ‌and‌ ‌the‌‌ secondary‌ ‌name‌ ‌server‌ ‌on‌ ‌your‌ ‌partner’s‌ ‌machine‌ ‌to‌ ‌allow‌ ‌zone‌ ‌transfers.‌ ‌</span><br>
<span>➢ ‌ ‌Show‌ ‌the‌ ‌changes‌ ‌you‌ ‌had‌ ‌to‌ ‌make‌ ‌to‌ ‌your‌ ‌configuration‌ ‌</span><br>
<span>➢ ‌ ‌Use‌ ‌a‌ ‌DNS‌ ‌tool‌ ‌(for‌ ‌instance‌ dig‌ )‌ ‌to‌ ‌initiate‌ ‌a‌ ‌zone‌ ‌transfer‌ ‌from‌ ‌your‌ ‌primary‌‌ name‌ ‌server‌ ‌to‌ ‌your‌ ‌secondary.‌‌ ‌</span><br>
<span>➢ ‌ ‌Show‌ ‌the‌ ‌output‌ ‌of‌ ‌the‌ ‌DNS‌ ‌tool‌ ‌and‌ ‌describe‌ ‌the‌ ‌steps‌ ‌in‌ ‌the‌ ‌transfer‌ ‌process.‌ ‌</span><br>
<span>➢ ‌ ‌What‌ ‌information‌ ‌did‌ ‌the‌ ‌secondary‌ ‌server‌ ‌receive?‌ ‌</span></p>
</div><hr><h2 id="Implementation5" data-id="Implementation"><a class="anchor hidden-xs" href="#Implementation5" title="Implementation5"><span class="octicon octicon-link"></span></a><span>Implementation</span></h2><p><span>I changed named.conf.default-zones as shown in Figure 30. On st10 should be set </span><code>allow-transfer {10.1.1.212;};</code><span>Also I made a NS records with glued record in master.</span></p><center>
<p><img src="https://i.imgur.com/xKb3omz.png" alt="" loading="lazy"><br>
<span>Figure 30 - Modification of named.conf.default-zones</span></p>
</center><blockquote>
<p><span>If the‌ ‌primary‌ ‌name‌ ‌server‌ ‌for‌ ‌the‌ ‌subdomain‌ ‌fails then any queries that have not yet been replicated to slaves are lost. But slave still can answer requests for the zone.</span></p>
</blockquote><p><span>I added new zone </span><a href="http://st1.sne21.ru" target="_blank" rel="noopener"><span>st1.sne21.ru</span></a><span> with type slave and master - 10.1.1.67 (st10). Figure 31 shows the zone transfer from primary name server.</span></p><center>
<p><img src="https://i.imgur.com/otC1LNq.png" alt="" loading="lazy"><br>
<span>Figure 31 - Zone transfer from primary name server</span></p>
<p><img src="https://i.imgur.com/IZHwf4h.png" alt="" loading="lazy"><br>
<span>Figure 32 - log of slave</span></p>
</center><p><span>First, slave device connects to the master and copies the zone file (transfer). Slave servers poll the master server for changes in the zone description at certain time intervals (refresh).</span><br>
<span>Then the requests are passed to the subordinate, not to the master</span></p><hr><h2 id="References" data-id="References"><a class="anchor hidden-xs" href="#References" title="References"><span class="octicon octicon-link"></span></a><span>References</span></h2><ol>
<li><a href="https://kb.isc.org/docs/aa-01225" target="_blank" rel="noopener"><span>Verifying the Integrity of ISC Downloads using PGP / GPG</span></a></li>
<li><a href="https://www.isc.org" target="_blank" rel="noopener"><span>ISC</span></a></li>
<li><a href="https://gist.github.com/Nilpo/1a70ebca988ad0743ea533d747445148#file-bind-for-the-small-lan-md" target="_blank" rel="noopener"><span>BIND for the SMALL LAN</span></a></li>
<li><a href="https://medium.com/@chrixsbassey/downloading-and-installing-a-caching-nameserver-using-bind-9-from-source-75b555bc7e10" target="_blank" rel="noopener"><span>Installing a Caching NameServer using BIND 9 from Source</span></a></li>
<li><a href="https://tecadmin.net/configure-rndc-for-bind9/" target="_blank" rel="noopener"><span>Configure RNDC Key for Bind9</span></a></li>
<li><a href="https://maxblogs.ru/index.php?id=57" target="_blank" rel="noopener"><span>Configure BIND9</span></a></li>
<li><a href="https://bind9.readthedocs.io/en/latest/introduction.html" target="_blank" rel="noopener"><span>BIND9 Manual</span></a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-configure-bind-as-an-authoritative-only-dns-server-on-ubuntu-14-04" target="_blank" rel="noopener"><span>How To Configure Bind</span></a></li>
<li><a href="https://www.cbtnuggets.com/blog/technology/networking/forward-vs-reverse-dns-lookup-zones-do-you-need-both" target="_blank" rel="noopener"><span>DNS Lookup Zones</span></a></li>
</ol></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#CIA-Lab-3---Domain-Name-System-DNS" title="CIA Lab 3 - Domain Name System (DNS)">CIA Lab 3 - Domain Name System (DNS)</a><ul class="nav">
<li><a href="#Task-1---Downloading-and-Installing-a-Caching-Name-Server" title="Task 1 - Downloading and Installing a Caching Name Server">Task 1 - Downloading and Installing a Caching Name Server</a></li>
<li class=""><a href="#Implementation" title="Implementation">Implementation</a></li>
<li class=""><a href="#Task-2---Configuring-Caching-Name-Server" title="Task 2 - Configuring Caching Name Server">Task 2 - Configuring Caching Name Server</a></li>
<li><a href="#Implementation1" title="Implementation">Implementation</a></li>
<li><a href="#Task-3---Running-Caching-Name-Server" title="Task 3 - Running Caching Name Server">Task 3 - Running Caching Name Server</a></li>
<li><a href="#Implementation2" title="Implementation">Implementation</a></li>
<li><a href="#Task-4---Authoritative-Name-Server" title="Task 4 - Authoritative Name Server">Task 4 - Authoritative Name Server</a></li>
<li><a href="#Implementation3" title="Implementation">Implementation</a></li>
<li><a href="#Task-5---Delegating-Your-Own-Zone" title="Task 5 - Delegating Your Own Zone">Task 5 - Delegating Your Own Zone</a></li>
<li><a href="#Implementation4" title="Implementation">Implementation</a></li>
<li><a href="#Task-6---Zone-Transfers" title="Task 6 - Zone Transfers">Task 6 - Zone Transfers</a></li>
<li><a href="#Implementation5" title="Implementation">Implementation</a></li>
<li class=""><a href="#References" title="References">References</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#CIA-Lab-3---Domain-Name-System-DNS" title="CIA Lab 3 - Domain Name System (DNS)">CIA Lab 3 - Domain Name System (DNS)</a><ul class="nav">
<li><a href="#Task-1---Downloading-and-Installing-a-Caching-Name-Server" title="Task 1 - Downloading and Installing a Caching Name Server">Task 1 - Downloading and Installing a Caching Name Server</a></li>
<li class=""><a href="#Implementation" title="Implementation">Implementation</a></li>
<li class=""><a href="#Task-2---Configuring-Caching-Name-Server" title="Task 2 - Configuring Caching Name Server">Task 2 - Configuring Caching Name Server</a></li>
<li><a href="#Implementation1" title="Implementation">Implementation</a></li>
<li><a href="#Task-3---Running-Caching-Name-Server" title="Task 3 - Running Caching Name Server">Task 3 - Running Caching Name Server</a></li>
<li><a href="#Implementation2" title="Implementation">Implementation</a></li>
<li><a href="#Task-4---Authoritative-Name-Server" title="Task 4 - Authoritative Name Server">Task 4 - Authoritative Name Server</a></li>
<li><a href="#Implementation3" title="Implementation">Implementation</a></li>
<li><a href="#Task-5---Delegating-Your-Own-Zone" title="Task 5 - Delegating Your Own Zone">Task 5 - Delegating Your Own Zone</a></li>
<li><a href="#Implementation4" title="Implementation">Implementation</a></li>
<li><a href="#Task-6---Zone-Transfers" title="Task 6 - Zone Transfers">Task 6 - Zone Transfers</a></li>
<li><a href="#Implementation5" title="Implementation">Implementation</a></li>
<li class=""><a href="#References" title="References">References</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
